# Лабораторная работа "Метрики и логи"

##  

### 1. Cкриншоты из kibana с логами

![](/screenshots/1_kibana_with_logs.png)

### 2. Добавить структурный лог (прокидывать любое поле через MDC)

![](/screenshots/2_add_structure_log.png)

### 3. Построить график с количеством запросов в Kibana

![](/screenshots/3_request_count_treemap.png)

### 4. Подключить actuator. Показать скрин ответа .../actuator

![](/screenshots/4_actuator.png)

### 5. Подключить prometheus. Создать свою метрику. Приложить скрин ответа /prometheus с созданной метрикой

![](/screenshots/5_own_metric_in_prometheus.png)

---

## Дополнительно:

### Кастомная метрика в Grafana

![](/screenshots/6_own_metric_in_grafana.png)

### Кастомные логи в базе данных

![](/screenshots/7_logs_in_database.png)

### Кастомные метрики в базе данных

![](/screenshots/8_metrics_in_database.png)

---

## PromQL-запросы

### Запросы, обработанные за последние 15 минут

![](/screenshots/9_new_metrics_amount.png)

### Сравнение скорости запросов за последнюю минуту с аналогичной минутой минуту назад

![](/screenshots/10_new_metrics_compare_rate.png)
